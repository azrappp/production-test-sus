import{a as c,u as j,j as e,L as N}from"./index-BmSsj0-w.js";import{H as v,a as d}from"./index-CAa21jnc.js";import{B as C}from"./index-IjH2A3Hm.js";import{Q as k,B as p}from"./react-toastify.esm-gax5al5G.js";import{a as O,b as F}from"./config-CbMpPa7o.js";import"./iconBase-B-ZdwKJU.js";const z=()=>{const[o,n]=c.useState(!1),[u,x]=c.useState({}),g=j(),f=async t=>{var i,m;t.preventDefault(),localStorage.clear(),n(!0);const s=new FormData(t.currentTarget),l=s.get("email"),h=s.get("password"),y=s.get("password_konfirm"),w=s.get("phone"),b={headers:{"Content-Type":"multipart/form-data"}};try{const r=await O.post(`${F}/register`,{email:l,phone:w,password:h,password_konfirm:y},b);g("/login"),p.success(r.data.message,{position:"top-center",className:"bg-white",progressClassName:"bg-green-500",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1})}catch(r){console.error(r),p.error(((m=(i=r.response)==null?void 0:i.data)==null?void 0:m.message)||"Registration failed",{position:"top-center",className:"bg-white",progressClassName:"bg-red-500",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1})}finally{n(!1)}},a=t=>{const{name:s,value:l}=t.target;x({...u,[s]:l})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen my-10 flex flex-col gap-5 items-center justify-center text-gray90",children:e.jsxs("form",{onSubmit:f,className:"md:w-[624px] px-5 md:px-0 text-justify",children:[e.jsx("h1",{className:"font-bold text-[24px] md:text-[32px]",children:"Join Sky Up!"}),e.jsx("p",{className:"text-[12px] mt-2.5 md:text-base text-gray60 font-medium",children:"Start your journey to discover and join various exciting events within your favorite organizations with Sky Up."}),e.jsxs("div",{className:"mt-8 flex flex-col gap-7",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"email",className:"font-medium text-sm",children:"Email"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(v,{size:22,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",id:"email",name:"email",onChange:a,required:!0,placeholder:"youremail@example.com",className:"pl-10 p-3 border shadow bg-white rounded-lg w-full outline-none focus:border-primary"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"phone",className:"font-medium text-sm",children:"Phone Number"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(C,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",onChange:a,required:!0,placeholder:"youremail@example.com",className:"pl-10 p-3 border shadow bg-white rounded-lg w-full outline-none focus:border-primary"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"password",className:"font-medium text-sm",children:"Password"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(d,{size:22,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",id:"password",name:"password",onChange:a,required:!0,placeholder:"Type your password",className:"pl-10 p-3 border shadow bg-white rounded-lg w-full outline-none focus:border-primary"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"password_konfirm",className:"font-medium text-sm",children:"Password Confirmation"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(d,{size:22,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",id:"password_konfirm",name:"password_konfirm",onChange:a,required:!0,placeholder:"Retype your password",className:"pl-10 p-3 border shadow bg-white rounded-lg w-full outline-none focus:border-primary"})]})]})]}),e.jsx("button",{type:"submit",className:`${o?"bg-gray-500 cursor-not-allowed":"bg-primary hover:bg-opacity-90"} p-3 font-semibold text-white rounded-lg text-center w-full mt-10`,disabled:o,children:o?"Loading...":"Register Now"}),e.jsxs("button",{className:"bg-[#E3EDF8] hover:bg-opacity-90 p-3 font-medium text-gray60 rounded-lg w-full mt-6 flex gap-2.5 justify-center items-center",children:[e.jsx("img",{src:"/images/icon/google.svg",alt:"",className:"w-7"})," ","Register with Google"]}),e.jsxs("p",{className:"text-center text-gray60 mt-10",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"text-primary hover:opacity-90",children:"Login"})]})]})}),e.jsx(k,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})};export{z as default};
